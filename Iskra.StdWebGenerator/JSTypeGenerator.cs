using Iskra.StdWebGenerator.Extensions;

namespace Iskra.StdWebGenerator;

public static class JSTypeGenerator
{
    public static string Execute(Type type)
    {
        var body = MembersGenerator.Execute(type);

        var content = $$"""
                        // <auto-generated/>

                        using System.Runtime.InteropServices.JavaScript;
                        using Iskra.Utils;

                        namespace Iskra.StdWeb;

                        public partial class {{type.Name}}(JSObject obj) : JSObjectWrapper(obj)
                        {
                        {{body.IndentLines(4)}}
                        }
                        """;
        return content;
    }
}